<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Property Listings</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <style>
        .checkbox-spacing {
            margin-left: 2px;
        }

        .centered th {
            text-align: center !important;
        }

        .darker-grid td, .darker-grid th, .darker-grid tr {
            border: 2px solid #bfbfbf;
        }

        .button-spacing {
            margin-bottom: 5px;
        }
    </style>

    <script type="text/javascript">
        function openCoDetail() {
            $('#modCoDetail').modal('show');
        }

        function copyToClipboard(listingData) {
            let textToCopy = '';
            if (listingData.listingDetails[0]) {
                textToCopy += 'Name: ' + listingData.listingDetails[0] + '\n';
            }
            if (listingData.listingDetails[1]) {
                textToCopy += 'Type: ' + listingData.listingDetails[1] + '\n';
            }
            if (listingData.listingDetails[2]) {
                textToCopy += 'Build Up: ' + listingData.listingDetails[2] + '\n';
            }
            if (listingData.listingDetails[3]) {
                textToCopy += 'Furnishing: ' + listingData.listingDetails[3] + '\n';
            }
            if (listingData.listingDetails[4]) {
                textToCopy += 'Bedrooms: ' + listingData.listingDetails[4] + '\n';
            }
            if (listingData.listingDetails[5]) {
                textToCopy += 'Bathrooms: ' + listingData.listingDetails[5] + '\n';
            }
            if (listingData.listingDetails[6]) {
                textToCopy += 'Carpark: ' + listingData.listingDetails[6] + '\n';
            }
            if (listingData.listingDetails[7]) {
                textToCopy += 'Sale or Rent: ' + listingData.listingDetails[7] + '\n';
            }
            if (listingData.listingDetails[8]) {
                textToCopy += 'Price: ' + listingData.listingDetails[8] + '\n\n';
            }

            if (listingData.Photos && listingData.Photos.length > 0) {
                textToCopy += 'Photos:\n';
                listingData.Photos.forEach(function (photo) {
                    textToCopy += photo + '\n';
                });
            }

            var tempTextArea = document.createElement("textarea");
            tempTextArea.value = textToCopy;
            document.body.appendChild(tempTextArea);
            tempTextArea.select();

            navigator.clipboard.writeText(tempTextArea.value)
                .then(() => {
                    alert('Property details and photos copied to clipboard!');
                })
                .catch(err => {
                    console.error('Could not copy text: ', err);
                });

            document.body.removeChild(tempTextArea);
        }

        function toggleTextboxes() {
            var dropdown = document.getElementById('drpdwnSearch');
            var selectedValue = dropdown.value;

            var txtbx1 = document.getElementById('txtbxSearch1');
            var txtbx2 = document.getElementById('txtbxSearch2');

            txtbx1.style.display = 'none';
            txtbx2.style.display = 'none';

            if (selectedValue === 'BuildUp' || selectedValue === 'Price') {
                txtbx1.style.display = 'block';
                txtbx2.style.display = 'block';
            } else {
                txtbx1.style.display = 'block';
            }
        }
    </script>
</head>
<body>
    <div style="margin-left: 30px; margin-right: 30px;">

        <!-- Add New Property Listings -->
        <div class="row">
            <div class="col-xs-12">
                <h1>Add New Property Listings</h1>
            </div>
        </div>

        <div class="row" style="margin-bottom: 15px;">
            <div class="col-sm-4">
                <label for="propertyName">Property Name:</label>
                <input type="text" id="propertyName" class="form-control">
            </div>
        </div>

        <div class="row" style="margin-bottom: 15px;">
            <div class="col-sm-4">
                <label for="propertyType">Property Type:</label>
                <input type="text" id="propertyType" class="form-control">
            </div>
        </div>

        <div class="row" style="margin-bottom: 15px;">
            <div class="col-sm-4">
                <label for="address">Address:</label>
                <input type="text" id="address" class="form-control">
            </div>
        </div>

        <!-- Add more fields similarly... -->

        <div class="row" style="margin-bottom: 15px;">
            <div class="col-sm-4">
                <label for="price">Price: RM</label>
                <input type="text" id="price" class="form-control">
            </div>
        </div>

        <div class="row" style="margin-bottom: 30px;">
            <div class="col-sm-4">
                <label for="photo">Photo:</label>
                <input type="file" id="photo" class="form-control" multiple>
            </div>
        </div>

        <div class="row" style="margin-bottom: 50px;">
            <div class="col-sm-4">
                <button type="button" class="btn btn-success">Add New Listing</button>
            </div>
        </div>

        <!-- Search and View Property Listings -->
        <div class="row">
            <div class="col-xs-12">
                <h1>Search and View Property Listings</h1>
            </div>
        </div>

        <div class="row" style="margin-bottom: 15px;">
            <div class="col-sm-4">
                <select id="drpdwnSearch" class="form-control" onchange="toggleTextboxes()">
                    <option value="">-- Select a Search Option --</option>
                    <option value="PropertyName">Property Name</option>
                    <option value="PropertyType">Property Type</option>
                    <option value="Address">Address</option>
                    <option value="BuildUp">Build Up</option>
                    <option value="Furnishing">Furnishing</option>
                    <option value="NumOfBedroom">Number of Bedroom</option>
                    <option value="NumOfBathroom">Number of Bathroom</option>
                    <option value="NumOfCarpark">Number of Carpark</option>
                    <option value="SaleOrRent">Sale or Rent</option>
                    <option value="Price">Price</option>
                    <option value="Status">Status</option>
                </select>
            </div>
        </div>

        <div class="row" style="margin-bottom: 15px;">
            <div class="col-sm-4">
                <input type="text" id="txtbxSearch1" class="form-control" style="display:none;">
                <input type="text" id="txtbxSearch2" class="form-control" style="display:none;">
            </div>
        </div>

        <div class="row" style="margin-bottom:15px;">
            <div class="col-sm-4">
                <button type="button" class="btn btn-primary">Search</button>
            </div>
        </div>

        <!-- Property Listings Table -->
        <table class="table table-bordered centered darker-grid">
            <thead>
                <tr>
                    <th>Property Name</th>
                    <th>Property Type</th>
                    <th>Address</th>
                    <th>Unit Number</th>
                    <th>Build Up</th>
                </tr>
            </thead>
            <tbody>
                <!-- Repeat rows dynamically using a server-side or client-side rendering technique -->
                <tr>
                    <td>Sample Property 1</td>
                    <td>Condo</td>
                    <td>123 Street</td>
                    <td>Unit 12</td>
                    <td>1500 sqft</td>
                </tr>
            </tbody>
        </table>
    </div>
</body>
</html>
